
# 常用命令

## 检查pod之间网络连通性


```sh
root@controlplane:~$ kubectl exec -it pod1 -- sh
# nc -v -z -w 2 service-name 80
```

`nc`: 是 netcat 的简写，一个强大的网络工具。

`-v`: 代表 verbose 模式，即详细模式。当此选项启用时，netcat 会提供关于网络连接的更多信息。

`-z`: 这个选项让 netcat 在端口扫描模式下运行。在这种模式下，netcat 会尝试连接到目标主机的指定端口，然后立即关闭连接。这对于检查端口是否开放（即是否可以建立连接）非常有用。

`-w 2`: 这个选项设置了连接超时时间为2秒。如果在这个时间内无法建立连接，netcat 就会停止尝试并关闭程序。

`secure-service`: 这是你要连接的目标主机的名称或IP地址。

`80`: 这是你想要连接的目标主机上的端口号。在这个例子中，是 HTTP 的默认端口号。

综合起来，这个命令的作用是尝试连接到名为 "service-name" 的主机的80端口，并且在2秒内如果无法建立连接就会停止尝试。同时，由于 `-v` 选项的存在，它将会提供详细的连接信息。
